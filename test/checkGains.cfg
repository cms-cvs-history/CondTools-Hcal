process COMPARE = {

  path p = { prod  }

  include "CondCore/DBCommon/data/CondDBSetup.cfi"

  es_module hcal_db_producer = HcalDbProducer {
         untracked vstring dump = {""}
         untracked string file = ""
  }

  es_source es_pool = PoolDBESSource { 
      using CondDBSetup
#      string connect = "frontier://FrontierOn/CMS_COND_ON_170_HCAL"
      string connect = "frontier://FrontierInt/CMS_COND_18X_HCAL"
      string timetype = "runnumber"    
      string appendToDataLabel = "reference"
      untracked uint32 authenticationMethod = 0
           VPSet toGet = {
                    {string record = "HcalPedestalsRcd"
                     string tag    = "hcal_pedestals_fC_gren"
                    },
                    {string record = "HcalPedestalWidthsRcd"
                     string tag =    "hcal_widths_fC_gren"
                    },
                    {string record = "HcalGainsRcd"
                     string tag =    "hcal_gains_miscalib_v1"
# hcal_gains_v1"
                    },
                    {string record = "HcalQIEDataRcd"
                     string tag =    "qie_normalmode_v3"
                    },
                    {string record = "HcalElectronicsMapRcd"
                     string tag =    "official_emap_16x_9Nov07"
                    }
           }
  }
  es_source es_hardcode = HcalHardcodeCalibrations {
  	    		string appendToDataLabel = "reference"
  	    		untracked vstring toGet = {"GainWidths", "channelQuality"}
  }

  es_source es_ascii = HcalTextCalibrations { 
                       string appendToDataLabel = "update"
                       VPSet input = {
                        {string object = "Pedestals"
                         FileInPath file = "CondFormats/HcalObjects/data/hcal_pedestals_fC_v1_zdc.txt"
                        }
                        ,{string object = "PedestalWidths"
                         FileInPath file = "CondFormats/HcalObjects/data/hcal_widths_fC_v1_zdc.txt"
                        }
                        ,{string object = "Gains"
                         FileInPath file = "CondFormats/HcalObjects/data/hcal_gains_v1.txt"
                        }
                        ,{string object = "GainWidths"
                         FileInPath file = "CondFormats/HcalObjects/data/hcal_gains_widths_v1.txt"
                        }
                        ,{string object = "QIEData"
                         FileInPath file = "CondFormats/HcalObjects/data/qie_normalmode_v3_zdc.txt"
                        }
                        ,{string object = "ElectronicsMap"
                         FileInPath file = "CondFormats/HcalObjects/data/official_emap_16x_v1.txt"
                        }
                        ,{string object = "ChannelQuality"
                         FileInPath file = "CondFormats/HcalObjects/data/hcal_quality_v1.txt"
                        }
                       }
  }
  
  es_prefer es_pool = PoolDBESSource{}
  es_prefer es_hardcode = HcalHardcodeCalibrations{}


  untracked PSet maxEvents = {untracked int32 input = 1 }   
    
  source = EmptySource {
	untracked uint32 firstRun = 1
	untracked uint32 numberEventsInRun = 1
  }
    
  module prod = HcalGainsCheck{
  	 untracked string rootfile = "HcalGainsCheck.root"
  }
    
}