process COMPARE = {

  path p = { prod  }

  include "CondCore/DBCommon/data/CondDBSetup.cfi"

  es_module hcal_db_producer = HcalDbProducer {
         untracked vstring dump = {""}
         untracked string file = ""
  }

  es_source es_ascii = HcalTextCalibrations { 
                       string appendToDataLabel = "reference"
                       VPSet input = {
                        {string object = "QIEData"
                         FileInPath file = "CondFormats/HcalObjects/data/qie_normalmode_v3.txt"
                        }
                        ,{string object = "ElectronicsMap"
                         FileInPath file = "CondFormats/HcalObjects/data/official_emap_16x_v1.txt"
                        }
                       }
  }
  es_source es_ascii2 = HcalTextCalibrations { 
                       string appendToDataLabel = "update"
                       VPSet input = {
                        {string object = "QIEData"
#			 FileInPath file = "CondTools/Hcal/test/625.txt"
                         FileInPath file = "CondFormats/HcalObjects/data/qie_normalmode_v3.txt"
                        }
                       }
  }
  
  es_prefer es_ascii = HcalTextCalibrations{}

  es_source es_hardcode = HcalHardcodeCalibrations {
                        string appendToDataLabel = "reference"
                        untracked vstring toGet = {"GainWidths", "channelQuality"}
  }
  
  untracked PSet maxEvents = {untracked int32 input = 1 }   
    
  source = EmptySource {
	untracked uint32 firstRun = 1
	untracked uint32 numberEventsInRun = 1
  }
    
  module prod = HcalQIEDataCheck{ 
#  	      	      untracked string outFile = '625.txt' # merge
       	      untracked string dumpRefQIEsTo = 'dump.txt' #if present
#                     untracked string dumpUpdateQIEsTo = 'dump2.txt' #if present
#                     untracked bool checkEmap = false #default is true
#                     untracked bool validateQIEs = true #if true, will compare the each channel's values
#

  }
    
}
