process TEST = {
    
    path p = { prod  }
    service = Timing { }
    
#    include "CalibCalorimetry/Configuration/data/Hcal_FrontierConditions_DevDB.cff"
#    include "CalibCalorimetry/Configuration/data/Hcal_FrontierConditions.cff"
#    include "CalibCalorimetry/HcalPlugins/data/Hcal_FrontierConditions.cff"
#    replace es_pool.connect="frontier://cms_conditions_data/CMS_COND_17X_HCAL"

include "CondCore/DBCommon/data/CondDBSetup.cfi"

es_module hcal_db_producer = HcalDbProducer {
         untracked vstring dump = {""}
         untracked string file = ""
}

es_source es_pool = PoolDBESSource { 
      using CondDBSetup
      string connect = "sqlite_file:DB.db"
      string timetype = "runnumber"    
      untracked uint32 authenticationMethod = 0
           VPSet toGet = {
                    {string record = "HcalPedestalsRcd"
                     string tag    = "hcal_pedestals_fC_v1_zdc"
                    },
                    {string record = "HcalPedestalWidthsRcd"
                     string tag =    "hcal_widths_fC_v1_zdc"
                    },
                    {string record = "HcalGainsRcd"
                     string tag =    "hcal_gains_v1_zdc"
                    },
                    {string record = "HcalQIEDataRcd"
                     string tag =    "qie_normalmode_v3_zdc"
                    },
                    {string record = "HcalElectronicsMapRcd"
                     string tag =    "official_emap_v5_080208"
                    }
                  }
             }
#    es_source es_hardcode = HcalHardcodeCalibrations {untracked vstring toGet = {"GainWidths", "channelQuality"}}

    untracked PSet maxEvents = {untracked int32 input = 1 }   
    
    source = EmptySource {
	untracked uint32 firstRun = 100
	untracked uint32 numberEventsInRun = 1
    }
    
    module prod = HcalConditionsDump{
    	   untracked string outFilePrefix = "DumpSqlite"
	   }
    
}

